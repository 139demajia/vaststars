<html>
    <head>
        <style>
            body {
                font: 100% "阿里巴巴普惠体";
            }
            red-button, green-button {
                width: 14.95vmin;
                height: 14.95vmin;
                font-size: 5vmin;
                align-items: center;
                justify-content: center;
                background-size: 100% 100%;
                background-lattice: 16.67% 16.67% 15.62% 15.62% 50.00% 50.00%;
            }
            red-button {
                background-image: "/pkg/vaststars.resources/ui/textures/bulk-opt/red-button-bg.texture";
            }
            red-button:active {
                background-image: "/pkg/vaststars.resources/ui/textures/bulk-opt/red-button-bg-active.texture";
            }
            green-button {
                background-image: "/pkg/vaststars.resources/ui/textures/bulk-opt/green-button-bg.texture";
            }
            green-button:active {
                background-image: "/pkg/vaststars.resources/ui/textures/bulk-opt/green-button-bg-active.texture";
            }
        </style>
        <script type="text/x-lua" >
            local ui_sys = import_package "vaststars.ui".ui_system
            local start = ui_sys.createDataMode(window, ...)

            local function _send()
                local e = assert(document.getElementsByTagName("select-box")[1])
                ui_sys.pub(window, {"select", e.clientLeft, e.clientTop, e.clientWidth, e.clientHeight})
            end

            function start.clickButton(...)
                ui_sys.pub(window, {...})
            end

            function init()
                _send()

                window.onMessage(window.getName() .. "-message", function(param)
                    _send()
                end)
            end
        </script>
    </head>
    <body style = "pointer-events: none; align-items: center; margin-top: 5%;" onload = "init()">
        <select-box style = "pointer-events: none; border: 0.25vmin rgb(189, 149, 43); width: 80%; height: 80%;" />
        <div style = "width: 80%; height: 10%; flex-direction: row; gap: 2vmin; justify-content: flex-end;">
            <red-button data-event-click = "clickButton('teardown')"  style="position:absolute; left:0;"  data-if = "teardown">
                <div style = "width: 8.64vmin; height: 11.76vmin; background-image: '/pkg/vaststars.resources/ui/textures/bulk-opt/teardown.texture'; background-size: 100% 100%;" />
            </red-button>
            <green-button data-event-click = "clickButton('close')">
                <div style = "width: 9.11vmin; height: 9.11vmin; background-image: '/pkg/vaststars.resources/ui/textures/bulk-opt/close.texture'; background-size: 100% 100%;" />
            </green-button>
            <green-button data-event-click = "clickButton('move')" data-if = "move">
                <div style = "width: 12.07vmin; height: 12.15vmin; background-image: '/pkg/vaststars.resources/ui/textures/bulk-opt/move.texture'; background-size: 100% 100%;" />
            </green-button>
            <green-button data-event-click = "clickButton('move_confirm')" data-if = "move_confirm">
                <div style = "width: 10.75vmin; height: 8.57vmin; background-image: '/pkg/vaststars.resources/ui/textures/bulk-opt/move-confirm.texture'; background-size: 100% 100%;" />
            </green-button>
        </div>
    </body>
</html>
